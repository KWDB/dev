"use strict";(self.webpackChunkkwdb_docs=self.webpackChunkkwdb_docs||[]).push([[131],{2930:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var d=i(9729);const s={},r=d.createContext(s);function t(e){const n=d.useContext(r);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),d.createElement(r.Provider,{value:n},e.children)}},8226:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>d,toc:()=>l});const d=JSON.parse('{"id":"quickstart/5M-quick-start","title":"5 \u5206\u949f\u5feb\u901f\u4f53\u9a8c KWDB","description":"\u672c\u793a\u4f8b\u5c06\u5e26\u60a8\u5feb\u901f\u4f53\u9a8c KWDB \u7684\u57fa\u672c\u529f\u80fd\u3002\u60a8\u5c06\u5b66\u4e60\u5982\u4f55\uff1a","source":"@site/docs/quickstart/5M-quick-start.md","sourceDirName":"quickstart","slug":"/quickstart/5M-quick-start","permalink":"/dev/docs/quickstart/5M-quick-start","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\u5feb\u901f\u5f00\u59cb","permalink":"/dev/docs/quickstart"},"next":{"title":"\u4f53\u9a8c\u60a8\u7684\u7b2c\u4e00\u4e2a\u67e5\u8be2","permalink":"/dev/docs/quickstart/sample-query"}}');var s=i(5813),r=i(2930);const t={sidebar_position:1},a="5 \u5206\u949f\u5feb\u901f\u4f53\u9a8c KWDB",c={},l=[{value:"\u4e0b\u8f7d\u5b89\u88c5",id:"\u4e0b\u8f7d\u5b89\u88c5",level:2},{value:"\u8fde\u63a5\u6570\u636e\u5e93",id:"\u8fde\u63a5\u6570\u636e\u5e93",level:2},{value:"\u521b\u5efa\u6570\u636e\u5e93",id:"\u521b\u5efa\u6570\u636e\u5e93",level:2},{value:"\u63d2\u5165\u6570\u636e",id:"\u63d2\u5165\u6570\u636e",level:2},{value:"\u67e5\u8be2\u6570\u636e",id:"\u67e5\u8be2\u6570\u636e",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"5-\u5206\u949f\u5feb\u901f\u4f53\u9a8c-kwdb",children:"5 \u5206\u949f\u5feb\u901f\u4f53\u9a8c KWDB"})}),"\n",(0,s.jsx)(n.p,{children:"\u672c\u793a\u4f8b\u5c06\u5e26\u60a8\u5feb\u901f\u4f53\u9a8c KWDB \u7684\u57fa\u672c\u529f\u80fd\u3002\u60a8\u5c06\u5b66\u4e60\u5982\u4f55\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4f7f\u7528 Docker \u5feb\u901f\u90e8\u7f72 KWDB"}),"\n",(0,s.jsx)(n.li,{children:"\u8fde\u63a5\u5230 KWDB \u6570\u636e\u5e93"}),"\n",(0,s.jsx)(n.li,{children:"\u521b\u5efa\u65f6\u5e8f\u6570\u636e\u5e93\u548c\u5173\u7cfb\u6570\u636e\u5e93"}),"\n",(0,s.jsx)(n.li,{children:"\u63d2\u5165\u793a\u4f8b\u6570\u636e"}),"\n",(0,s.jsx)(n.li,{children:"\u6267\u884c\u8de8\u6a21\u67e5\u8be2"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u901a\u8fc7\u8fd9\u4e2a\u793a\u4f8b\uff0c\u60a8\u53ef\u4ee5\u4e86\u89e3 KWDB \u5982\u4f55\u540c\u65f6\u5904\u7406\u65f6\u5e8f\u6570\u636e\u548c\u5173\u7cfb\u6570\u636e\uff0c\u4ee5\u53ca\u5982\u4f55\u5229\u7528\u5176\u5f3a\u5927\u7684\u8de8\u6a21\u67e5\u8be2\u80fd\u529b\u3002\u6574\u4e2a\u8fc7\u7a0b\u53ea\u9700\u8981 5 \u5206\u949f\u5373\u53ef\u5b8c\u6210\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u4e0b\u8f7d\u5b89\u88c5",children:"\u4e0b\u8f7d\u5b89\u88c5"}),"\n",(0,s.jsx)(n.p,{children:"\u63a8\u8350\u4f7f\u7528 Docker \u5feb\u901f\u4f53\u9a8c KWDB"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Docker \u5b89\u88c5\uff08\u63a8\u8350\uff09\ndocker run -d --privileged --name kwdb   \n  -p 26257:26257   \n  -p 8080:8080   \n  -v /var/lib/kaiwudb:/kaiwudb/deploy/kaiwudb-container   \n  --ipc shareable   \n  -w /kaiwudb/bin   \n  kwdb/kwdb   \n  ./kwbase start-single-node   \n    --insecure   \n    --listen-addr=0.0.0.0:26257   \n    --http-addr=0.0.0.0:8080   \n    --store=/kaiwudb/deploy/kaiwudb-container\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u8fde\u63a5\u6570\u636e\u5e93",children:"\u8fde\u63a5\u6570\u636e\u5e93"}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528 Docker \u8fde\u63a5 KWDB"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u5f00\u542f\u4ea4\u4e92\u5f0f SQL Shell\ndocker exec -it kwdb ./kwbase sql --insecure --host=127.0.0.1\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u521b\u5efa\u6570\u636e\u5e93",children:"\u521b\u5efa\u6570\u636e\u5e93"}),"\n",(0,s.jsx)(n.p,{children:"\u521b\u5efa\u65f6\u5e8f\u6570\u636e\u5e93\u548c\u5173\u7cfb\u6570\u636e\u5e93"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u521b\u5efa\u65f6\u5e8f\u6570\u636e\u5e93\nCREATE TS DATABASE sensor_data;\n\n-- \u521b\u5efa\u5173\u7cfb\u6570\u636e\u5e93\nCREATE DATABASE device_management;\n\n-- \u5728\u65f6\u5e8f\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u4f20\u611f\u5668\u8bfb\u6570\u8868\nCREATE TABLE sensor_data.readings (\n    ts TIMESTAMPTZ NOT NULL,         -- \u65f6\u95f4\u6233(\u4e3b\u5217)\n    temperature FLOAT,               -- \u6e29\u5ea6\u503c\n    humidity FLOAT                   -- \u6e7f\u5ea6\u503c\n) TAGS (\n    device_id INT NOT NULL,          -- \u8bbe\u5907ID(\u6807\u7b7e)\n    location VARCHAR(256) NOT NULL   -- \u8bbe\u5907\u4f4d\u7f6e(\u6807\u7b7e)\n) PRIMARY TAGS(device_id);          -- \u4e3b\u6807\u7b7e\u8bbe\u4e3adevice_id\n\n-- \u5728\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u8bbe\u5907\u4fe1\u606f\u8868\nCREATE TABLE device_management.devices (\n    device_id INT PRIMARY KEY,       -- \u8bbe\u5907ID(\u4e3b\u952e)\n    device_name VARCHAR(100),       -- \u8bbe\u5907\u540d\u79f0\n    device_type VARCHAR(50),        -- \u8bbe\u5907\u7c7b\u578b\n    installation_date DATE,         -- \u5b89\u88c5\u65e5\u671f\n    warranty_period INT             -- \u4fdd\u4fee\u671f(\u6708)\n);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u63d2\u5165\u6570\u636e",children:"\u63d2\u5165\u6570\u636e"}),"\n",(0,s.jsx)(n.p,{children:"\u5f00\u59cb\u5199\u5165\u60a8\u7684\u65f6\u5e8f\u6570\u636e\u548c\u5173\u7cfb\u6570\u636e"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u5411\u5173\u7cfb\u8868\u63d2\u5165\u8bbe\u5907\u4fe1\u606f\nINSERT INTO device_management.devices VALUES\n(101, '\u6e29\u5ea6\u4f20\u611f\u5668-101', '\u6e29\u5ea6\u4f20\u611f\u5668', '2023-01-15', 24),\n(102, '\u6e7f\u5ea6\u4f20\u611f\u5668-102', '\u6e7f\u5ea6\u4f20\u611f\u5668', '2023-02-20', 36),\n(103, '\u591a\u529f\u80fd\u4f20\u611f\u5668-103', '\u590d\u5408\u4f20\u611f\u5668', '2023-03-10', 12);\n\n-- \u5411\u65f6\u5e8f\u8868\u63d2\u5165\u4f20\u611f\u5668\u8bfb\u6570\u6570\u636e\nINSERT INTO sensor_data.readings VALUES\n('2025-08-15 13:00:00', 23.5, 45.2, 101, '\u673a\u623fA'),\n('2025-08-15 13:30:00', 24.1, 46.8, 101, '\u673a\u623fA'),\n('2025-08-15 14:00:00', 22.9, 47.5, 101, '\u673a\u623fA'),\n('2025-08-15 14:30:00', 19.8, 65.3, 102, '\u673a\u623fB'),\n('2025-08-15 15:00:00', 20.2, 64.7, 102, '\u673a\u623fB'),\n('2025-08-15 15:30:00', 20.5, 63.9, 102, '\u673a\u623fB'),\n('2025-08-15 16:00:00', 25.3, 42.1, 103, '\u8d70\u5eca'),\n('2025-08-15 16:30:00', 25.8, 41.7, 103, '\u8d70\u5eca');\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u67e5\u8be2\u6570\u636e",children:"\u67e5\u8be2\u6570\u636e"}),"\n",(0,s.jsx)(n.p,{children:"\u8de8\u6a21\u67e5\u8be2\u6570\u636e"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"-- \u67e5\u8be2\u8bbe\u5907\u6700\u65b0\u8bfb\u6570\u53ca\u5176\u8be6\u7ec6\u4fe1\u606f\nSELECT \n    r.ts AS timestamp,\n    r.temperature,\n    r.humidity,\n    d.device_name,\n    d.device_type,\n    r.location\nFROM \n    sensor_data.readings AS r\nINNER JOIN \n    device_management.devices AS d \nON \n    r.device_id = d.device_id\nWHERE \n    r.ts > '2025-08-15 10:00:00'\nORDER BY \n    r.ts DESC;\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}}}]);