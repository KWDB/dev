"use strict";(self.webpackChunkkwdb_docs=self.webpackChunkkwdb_docs||[]).push([[954],{2930:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var c=i(9729);const d={},o=c.createContext(d);function s(e){const n=c.useContext(o);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:s(e.components),c.createElement(o.Provider,{value:n},e.children)}},3798:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>c,toc:()=>t});const c=JSON.parse('{"id":"compilation/container","title":"\u901a\u8fc7\u5bb9\u5668\u7f16\u8bd1","description":"\u901a\u8fc7 Docker \u7f16\u8bd1 KWDB","source":"@site/docs/compilation/container.md","sourceDirName":"compilation","slug":"/compilation/container","permalink":"/dev/docs/compilation/container","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"\u901a\u8fc7\u5bb9\u5668\u7f16\u8bd1","id":"container","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\u901a\u8fc7\u6e90\u7801\u7f16\u8bd1","permalink":"/dev/docs/compilation/source-code"},"next":{"title":"\u5f00\u53d1\u73af\u5883\u914d\u7f6e","permalink":"/dev/docs/development-environment"}}');var d=i(5813),o=i(2930);const s={title:"\u901a\u8fc7\u5bb9\u5668\u7f16\u8bd1",id:"container",sidebar_position:2},l=void 0,r={},t=[{value:"\u7f16\u8bd1\u6b65\u9aa4",id:"\u7f16\u8bd1\u6b65\u9aa4",level:2},{value:"\u62c9\u53d6\u4ee3\u7801",id:"\u62c9\u53d6\u4ee3\u7801",level:3},{value:"\u521d\u59cb\u5316&amp;\u62c9\u53d6\u5b50\u4ee3\u7801\u5e93",id:"\u521d\u59cb\u5316\u62c9\u53d6\u5b50\u4ee3\u7801\u5e93",level:3},{value:"\u521b\u5efa\u5bb9\u5668\u5e76\u5c06\u9879\u76ee\u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u4e2d",id:"\u521b\u5efa\u5bb9\u5668\u5e76\u5c06\u9879\u76ee\u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u4e2d",level:3},{value:"\u5f00\u59cb\u7f16\u8bd1",id:"\u5f00\u59cb\u7f16\u8bd1",level:3},{value:"\u56fd\u5185\u955c\u50cf",id:"\u56fd\u5185\u955c\u50cf",level:2},{value:"\u5df2\u77e5\u95ee\u9898",id:"\u5df2\u77e5\u95ee\u9898",level:2}];function a(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.p,{children:"\u901a\u8fc7 Docker \u7f16\u8bd1 KWDB"}),"\n",(0,d.jsx)(n.h2,{id:"\u7f16\u8bd1\u6b65\u9aa4",children:"\u7f16\u8bd1\u6b65\u9aa4"}),"\n",(0,d.jsx)(n.h3,{id:"\u62c9\u53d6\u4ee3\u7801",children:"\u62c9\u53d6\u4ee3\u7801"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"git clone https://gitee.com/kwdb/kwdb.git\ncd kwdb\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u521d\u59cb\u5316\u62c9\u53d6\u5b50\u4ee3\u7801\u5e93",children:"\u521d\u59cb\u5316&\u62c9\u53d6\u5b50\u4ee3\u7801\u5e93"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"git submodule init\ngit submodule update\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u521b\u5efa\u5bb9\u5668\u5e76\u5c06\u9879\u76ee\u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u4e2d",children:"\u521b\u5efa\u5bb9\u5668\u5e76\u5c06\u9879\u76ee\u76ee\u5f55\u6620\u5c04\u5230\u5bb9\u5668\u4e2d"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"cd ..\ndocker run -it --privileged -v .kwdb:/home/inspur/src/gitee.com/kwbasedb kwdb/kwdb_comp_env bash\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u5f00\u59cb\u7f16\u8bd1",children:"\u5f00\u59cb\u7f16\u8bd1"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"cd kwbasedb\nGOPATH=/home/inspur GO111MODEL=off make BUILD_TYPE=Release install -j\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u56fd\u5185\u955c\u50cf",children:"\u56fd\u5185\u955c\u50cf"}),"\n",(0,d.jsxs)(n.p,{children:["\u540c\u6837\u7684\uff0c\u6211\u4eec\u4e5f\u63d0\u4f9b\u4e86\u7f16\u8bd1\u5de5\u5177\u7684\u56fd\u5185\u955c\u50cf\uff0c\u53ea\u9700\u66ff\u6362\u4e0a\u8ff0 docker \u547d\u4ee4\u4e2d\u7684 ",(0,d.jsx)(n.code,{children:"kwdb/kwdb_comp_env"})," \u5373\u53ef\uff1a"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["AMR64 \u7248\u672c\uff1a",(0,d.jsx)(n.code,{children:"swr.cn-north-4.myhuaweicloud.com/ddn-k8s/docker.io/kwdb/kwdb_comp_env:latest-linuxarm64"})]}),"\n",(0,d.jsxs)(n.li,{children:["X86 \u7248\u672c\uff1a",(0,d.jsx)(n.code,{children:"swr.cn-north-4.myhuaweicloud.com/ddn-k8s/docker.io/kwdb/kwdb_comp_env:latest"})]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u5df2\u77e5\u95ee\u9898",children:"\u5df2\u77e5\u95ee\u9898"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u7f16\u8bd1\u62a5\u9519 ",(0,d.jsx)(n.code,{children:"c++: fatal error: Killed signal terminated program cc1plus"}),"\uff0cdocker \u8fd0\u884c\u5185\u5bb9\u4e0d\u591f\u5bfc\u81f4\uff0c\u5efa\u8bae\u7ed9\u5bb9\u5668\u5206\u914d\u81f3\u5c11 8G \u5185\u5b58\uff0c\u5982\u679c\u4f9d\u65e7\u62a5\u9519\u8bf7\u7ee7\u7eed\u8c03\u5927\u5185\u5b58\u3002"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}}}]);