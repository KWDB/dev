<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-cli/kwbase-reference" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">kwbase 命令参考 | KWDB 开发者文档</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://kwdb.atomgit.net/dev/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://kwdb.atomgit.net/dev/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://kwdb.atomgit.net/dev/docs/cli/kwbase-reference"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="kwbase 命令参考 | KWDB 开发者文档"><meta data-rh="true" name="description" content="kwbase start"><meta data-rh="true" property="og:description" content="kwbase start"><link data-rh="true" rel="alternate" hreflang="zh-CN" href="https:/kwdb.atomgit.net/dev/dev/docs/cli/kwbase-reference"><link data-rh="true" rel="alternate" hreflang="en" href="https:/kwdb.atomgit.net/dev/en/dev/docs/cli/kwbase-reference"><link data-rh="true" rel="alternate" hreflang="x-default" href="https:/kwdb.atomgit.net/dev/dev/docs/cli/kwbase-reference"><link data-rh="true" rel="icon" href="/dev/img/favcion.svg"><link data-rh="true" rel="canonical" href="https://kwdb.atomgit.net/dev/docs/cli/kwbase-reference"><link data-rh="true" rel="alternate" href="https://kwdb.atomgit.net/dev/docs/cli/kwbase-reference" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://kwdb.atomgit.net/dev/docs/cli/kwbase-reference" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"CLI 命令参考","item":"https://kwdb.atomgit.net/dev/docs/cli"},{"@type":"ListItem","position":2,"name":"kwbase 命令参考","item":"https://kwdb.atomgit.net/dev/docs/cli/kwbase-reference"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KJW7LC2SEM"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KJW7LC2SEM",{anonymize_ip:!0})</script>
<meta name="description" content="KWDB是面向AIoT物联网场景的分布式多模开源数据库，提供时序数据、关系数据、地理空间数据的统一存储和查询能力。支持高并发写入、实时查询、边缘计算等特性。">
<meta name="keywords" content="KWDB,多模数据库,时序数据库,物联网数据库,AIoT,分布式数据库,开源数据库,时间序列,边缘计算,实时数据">
<meta name="author" content="KWDB Team">
<meta name="robots" content="index,follow">
<meta property="og:title" content="KWDB 开发者文档 - 面向AIoT的分布式多模开源数据库">
<meta property="og:description" content="KWDB是面向AIoT物联网场景的分布式多模开源数据库，提供时序数据、关系数据、地理空间数据的统一存储和查询能力。">
<meta property="og:type" content="website">
<meta property="og:url" content="https://kwdb.atomgit.net/dev/">
<meta property="og:image" content="https://kwdb.atomgit.net/dev/img/docusaurus-social-card.jpg">
<meta property="og:site_name" content="KWDB 开发者文档">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="KWDB 开发者文档 - 面向AIoT的分布式多模开源数据库">
<meta name="twitter:description" content="KWDB是面向AIoT物联网场景的分布式多模开源数据库，提供时序数据、关系数据、地理空间数据的统一存储和查询能力。">
<meta name="twitter:image" content="https://kwdb.atomgit.net/dev/img/docusaurus-social-card.jpg">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="content-language" content="zh-CN"><link rel="stylesheet" href="/dev/assets/css/styles.69348aec.css">
<script src="/dev/assets/js/runtime~main.1a56a561.js" defer="defer"></script>
<script src="/dev/assets/js/main.3abb8b46.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/dev/img/KWDB-light.svg"><link rel="preload" as="image" href="/dev/img/KWDB-dark.svg"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_k60n" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dev/"><div class="navbar__logo"><img src="/dev/img/KWDB-light.svg" alt="KWDB Logo" class="themedComponent_r121 themedComponent--light_VEJ3"><img src="/dev/img/KWDB-dark.svg" alt="KWDB Logo" class="themedComponent_r121 themedComponent--dark_mS9D"></div><b class="navbar__title text--truncate">KWDB</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/dev/docs/intro">文档</a><a class="navbar__item navbar__link" href="/dev/tutorial">教程</a><a class="navbar__item navbar__link" href="/dev/download">下载</a><a class="navbar__item navbar__link" href="/dev/video">视频</a><a class="navbar__item navbar__link" href="/dev/competition">大赛</a><a class="navbar__item navbar__link" href="/dev/mvp">MVP</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/kwdb/kwdb" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://gitee.com/kwdb/kwdb" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-gitee-link" aria-label="Gitee repository"></a><div class="toggle_U9wR colorModeToggle_v_fA"><button class="clean-btn toggleButton_H6qk toggleButtonDisabled_KoXl" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_wFaB lightToggleIcon_e2Or"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_wFaB darkToggleIcon_C7G0"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_wFaB systemToggleIcon_XGtR"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_w21C"><div class="navbar__search searchBarContainer_M2Dz" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input searchInput_aTt8" value=""><div class="loadingRing_qZVR searchBarLoadingRing_pj8u"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_ZMfJ"><div class="docsWrapper_lQ69"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton__79m" type="button"></button><div class="docRoot_WA10"><aside class="theme-doc-sidebar-container docSidebarContainer_RoS4"><div class="sidebarViewport_LoXP"><div class="sidebar_oUjO"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_aoz8"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dev/docs/intro">KWDB 开发者手册</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/dev/docs/quickstart">快速开始</a><button aria-label="展开侧边栏分类 &#x27;快速开始&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/dev/docs/compilation">编译 KWDB</a><button aria-label="展开侧边栏分类 &#x27;编译 KWDB&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/dev/docs/development-environment">开发环境配置</a><button aria-label="展开侧边栏分类 &#x27;开发环境配置&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/dev/docs/cli">CLI 命令参考</a><button aria-label="折叠侧边栏分类 &#x27;CLI 命令参考&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/dev/docs/cli/kwbase-reference">kwbase 命令参考</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/dev/docs/design">设计文档</a><button aria-label="展开侧边栏分类 &#x27;设计文档&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_NgP8"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_FZN1"><div class="docItemContainer_tesI"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_uZ3O" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/dev/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_Vvw5"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/dev/docs/cli"><span>CLI 命令参考</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">kwbase 命令参考</span></li></ul></nav><div class="tocCollapsible_o5_q theme-doc-toc-mobile tocMobile_nEWU"><button type="button" class="clean-btn tocCollapsibleButton_fI0F">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>kwbase 命令参考</h1></header>
<h2 class="anchor anchorWithStickyNavbar_S6oC" id="kwbase-start">kwbase start<a href="#kwbase-start" class="hash-link" aria-label="kwbase start的直接链接" title="kwbase start的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="功能描述">功能描述<a href="#功能描述" class="hash-link" aria-label="功能描述的直接链接" title="功能描述的直接链接">​</a></h3>
<p><code>kwbase start</code> 命令用于启动 KWDB 节点。</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="命令格式">命令格式<a href="#命令格式" class="hash-link" aria-label="命令格式的直接链接" title="命令格式的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase start </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="参数说明">参数说明<a href="#参数说明" class="hash-link" aria-label="参数说明的直接链接" title="参数说明的直接链接">​</a></h3>
<details class="details_n2MF alert alert--info details_KpjJ" data-collapsed="true"><summary>参数详情</summary><div><div class="collapsibleContent_gkqL"><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>--advertise-addr</code></td><td>节点使用的 IP 地址或主机名，与其他节点通过该地址进行通信，采用 <code>\&lt;addr/host\&gt;[:\&lt;port\&gt;]</code> 格式。如果是主机名，则要求能正常解析地址。如果是 IP 地址，则要求能正常访问 IP 地址。对于 IPv6 地址，使用 <code>[...]</code> 表示法，例如：<code>[::1]:26257</code> 或 <code>[fe80::f6f2::1]:26257</code>。如未指定，则默认使用 <code>listen-addr</code> 参数的取值。如只指定部分参数值，未指定的部分则使用 <code>listen-addr</code> 参数中相同部分的取值。参数的效果取决于与 <code>--listen-addr</code> 参数的组合使用。例如，如果端口号与 <code>--listen-addr</code> 参数中使用的端口号不同，则需要设置端口转发。<br>默认值：<code>--listen-addr</code> 参数的取值。</td></tr><tr><td><code>--attrs</code></td><td>有序的、使用冒号（<code>:</code>）隔开的节点属性列表。节点属性可以是任意字符串，用于指定机器的能力。机器的能力可能包括专有硬件或内核数量（例如 gpu、x16c）。例如，<code>--attrs=x16c:gpu</code>。</td></tr><tr><td><code>--background</code></td><td>在后台启动 KWDB 节点。该功能与在直接在命令行末尾添加 <code>&amp;</code> 类似。但是，当使用 <code>--background</code> 选项启动 KWDB 节点时，直到 KWDB 节点准备好接受请求后，控制权才会返回给 shell。<br><strong>说明</strong> <br> <code>--background</code> 参数适用于短时间运行和测试服务的场景。目前，由于无法从当前终端完全分离，不推荐在长时间的服务运行中使用该参数。这种情况下，推荐使用服务管理器或者 daemon(8) 等工具。</td></tr><tr><td><code>--brpc-addr</code></td><td>指定时序引擎间的 brpc 通信地址，格式为 <code>&lt;host&gt;:&lt;port&gt;</code> 或 <code>:&lt;port&gt;</code>: <br>- 必须包含端口号，否则系统会报错 <code>failed to start server: --brpc-addr&#x27;s port not specified</code>。<br>- IP 地址可省略，若未指定，系统将依次使用 <code>--advertise-addr</code> 或 <code>--listen-addr</code> 的 IP。<br><strong>说明</strong><br><code>--advertise-addr</code> 与 <code>--brpc-addr</code> 均为节点间通信地址，因此需确保各节点间网络互通。推荐使用 <code>--brpc-addr=:&lt;port&gt;</code> 格式，由系统自动获取 IP 地址。</td></tr><tr><td><code>--buffer-pool-size</code></td><td>AE executor 缓冲池大小。<br>默认值：4096</td></tr><tr><td><code>--cache</code></td><td>缓存大小，多个物理存储设备共享使用。参数值支持准确的内存值（单位：字节）、带小数点的十进制数值（转换为百分比数值）、百分比值：<br>- <code>--cache=.25</code> <br>- <code>--cache=25%</code> <br>- <code>--cache=1000000000</code>：1000000000 字节 <br>- <code>--cache=1GB</code>：1000000000 字节 <br>- <code>--cache=1GiB</code>：1073741824 字节<br>默认值：<code>128 MiB</code> <br><strong>说明</strong> <br>如果使用带百分比符号（%）的格式，确保系统能够正常识别转义的百分比符号（%）。例如，在某些配置文件中，百分比符号（%）可能被识别为注解符。因此，推荐使用带小数点的十进制数值。</td></tr><tr><td><code>--certs-dir</code></td><td>安全证书目录的路径，用于访问、验证以安全模式部署的集群。<br>默认值：<code>${HOME}/.kaiwudb-certs/</code></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td><code>kwbase start</code> 命令的帮助信息。</td></tr><tr><td><code>--http-addr</code></td><td>对外开放的 Admin 界面的 IP 地址或主机名。IPv6 地址使用 <code>[...]</code> 表示法，例如：<code>[::1]:8080</code> 或 <code>[fe80::f6f2::1]:8080</code>。<br>默认值：与 <code>--listen-addr</code> 参数一致，端口为 <code>8080</code>。</td></tr><tr><td><code>--import-path</code></td><td>导入文件所在的路径。</td></tr><tr><td><code>--insecure</code></td><td>以非安全模式启动集群。如未指定，以安全模式启动集群。</td></tr><tr><td><code>-j, --join</code></td><td>节点连接集群的地址。初始化时，需要指定集群 3-5 个节点的地址和端口，然后执行 <code>kwbase init</code> 命令启动集群。如未指定该参数时，则启动一个单节点集群。此时，无需执行 <code>kwbase init</code> 命令。如需向已有集群添加新节点，支持使用该参数指定集群 3-5 个节点的地址和端口。</td></tr><tr><td><code>--listen-addr</code></td><td>侦听来自其他节点和客户端连接的 IP 地址/主机名和端口。IPv6 地址使用 <code>[...]</code> 表示法，例如：<code>[::1]</code> 或 <code>[fe80::f6f2::1]</code>。参数的效果取决于与 <code>--advertise-addr</code> 参数的组合使用。如未指定 <code>--advertise-addr</code> 参数，使用 <code>canonical hostname</code> 与其他节点进行通信。<br>默认值：侦听所有 IP 地址，端口为 <code>26257</code>。</td></tr><tr><td><code>--log-dir</code></td><td>启动日志功能并在指定的目录下记录日志。<code>--log-dir</code> 配置为空字符串（<code>--log-dir=&quot;&quot;</code>）时，表示关闭日志功能。</td></tr><tr><td><code>--log-dir-max-size</code></td><td>所有日志文件大小达到阈值以后，KWDB 将删除最早的日志。<br>默认值：<code>100 MiB</code></td></tr><tr><td><code>--log-file-verbosity</code></td><td>将指定日志级别及以上的日志输出到日志文件，例如：<code>--log-file-verbosity=WARNING</code>。<br>默认值：<code>INFO</code></td></tr><tr><td><code>--max-disk-temp-storage</code></td><td>磁盘上可用于存储超出内存预算的 SQL 查询临时数据的最大存储空间。这可确保 JOIN、SORT 和其他内存密集型 SQL 操作能够将中间结果溢出到磁盘。该值可以是百分数或者准确的值（单位：字节），例如：<br>- <code>--max-disk-temp-storage=.25</code> <br>- <code>--max-disk-temp-storage=25%</code> <br>- <code>--max-disk-temp-storage=10000000000</code>：1000000000 字节 <br>- <code>--max-disk-temp-storage=1GB</code>：1000000000 字节 <br>- <code>--max-disk-temp-storage=1GiB</code>：1073741824 字节。<br>这些临时文件存储在 <code>--store</code> 参数取值的第一个存储目录的子目录中。<br>默认值：<code>32GiB</code><br><strong>说明</strong> <br> 如果使用带百分比符号（%）的格式，确保系统能够正常识别转义的百分比符号（%）。例如，在某些配置文件中，百分比符号（%）可能被识别为注解符。因此，推荐使用带小数点的十进制数值。</td></tr><tr><td><code>--max-offset</code></td><td>群集允许的最大时钟偏移。如果观察到的时钟偏移超过此限制，服务器将会崩溃，以最大限度降低读取不一致数据的可能性。增加此值会延长故障恢复时间和基于不确定性的读取重启频率。请注意，此值必须在集群的所有节点上保持一致。如需更改此值，必须同时停止集群中的所有节点，然后使用新值重新启动。<br>默认值：<code>500ms</code></td></tr><tr><td><code>--max-sql-memory</code></td><td>SQL 查询缓存的临时数据支持使用的最大内存空间，包括准备好的查询和在查询执行期间中间数据行。该值可以是百分数或者准确的值（单位：字节），例如：<br>- <code>--max-sql-memory=.25</code> <br>- <code>--max-sql-memory=25%</code> <br>- <code>--max-sql-memory=10000000000</code>：1000000000 字节 <br>- <code>--max-sql-memory=1GB</code>：1000000000 字节 <br>- <code>--max-sql-memory=1GiB</code>：1073741824 字节。<br>这些临时文件存储在 <code>--temp-dir</code> 文件夹当中。<br><strong>说明</strong> <br> 如果使用带百分比符号（%）的格式，确保系统能够正常识别转义的百分比符号（%）。例如，在某些配置文件中，百分比符号（%）可能被识别为注解符。因此，推荐使用带小数点的十进制数值。</td></tr><tr><td><code>--restful-port</code></td><td>RESTful 端口，取值范围为 <code>[0, 65535]</code>。<br>默认值：<code>8080</code></td></tr><tr><td><code>--restful-timeout</code></td><td>RESTful API 超时时间。<br>默认值：60</td></tr><tr><td><code>--sql-audit-dir</code></td><td>安全审计日志的位置。默认情况下，SQL 审核日志与 KWDB 生成的其他日志写入同一目录。</td></tr><tr><td><code>-s, --store</code></td><td>存储设备路径，用于存储数据库数据。支持同时指定设备属性和空间大小。若使用多个设备存储数据，则使用 <code>--store=/mnt/ssd01 --store=/mnt/ssd02</code> 方式。</td></tr><tr><td><code>--thread-pool-size</code></td><td>AE executor 线程池大小。<br>默认值：10</td></tr><tr><td><code>--upgrade-complete</code></td><td>节点升级完成。</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="使用举例">使用举例<a href="#使用举例" class="hash-link" aria-label="使用举例的直接链接" title="使用举例的直接链接">​</a></h3>
<p>以下示例开启一个多节点 KWDB 集群。</p>
<ul>
<li>
<p>TLS 安全模式</p>
<p>以下示例假设已为 <code>root</code> 用户生成证书。有关生成证书的详细信息，参见 <code>kwbase cert</code> 命令的<a href="#%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B-4">使用举例</a>章节。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase start </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--certs-dir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/root/certs </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--store</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/node1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--advertise-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:26257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--brpc-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">:27257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--listen-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:26257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--http-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:8080 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--join</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node2_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node3_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--cache</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">.25 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--max-sql-memory</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">.25 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--background</span><br></span></code></pre></div></div>
</li>
<li>
<p>非安全模式</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase start </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--insecure</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--store</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/node1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--advertise-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:26257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--brpc-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">:27257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--listen-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:26257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--http-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:8080 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--join</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node2_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node3_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--cache</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">.25 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--max-sql-memory</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">.25 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--background</span><br></span></code></pre></div></div>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_S6oC" id="kwbase-start-single-replica">kwbase start-single-replica<a href="#kwbase-start-single-replica" class="hash-link" aria-label="kwbase start-single-replica的直接链接" title="kwbase start-single-replica的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="功能描述-1">功能描述<a href="#功能描述-1" class="hash-link" aria-label="功能描述的直接链接" title="功能描述的直接链接">​</a></h3>
<p><code>kwbase start-single-replica</code> 命令用于启动一个单副本节点。</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="命令格式-1">命令格式<a href="#命令格式-1" class="hash-link" aria-label="命令格式的直接链接" title="命令格式的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase start-single-replica </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="参数说明-1">参数说明<a href="#参数说明-1" class="hash-link" aria-label="参数说明的直接链接" title="参数说明的直接链接">​</a></h3>
<details class="details_n2MF alert alert--info details_KpjJ" data-collapsed="true"><summary>参数详情</summary><div><div class="collapsibleContent_gkqL"><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>--advertise-addr</code></td><td>节点使用的 IP 地址或主机名，与其他节点通过该地址进行通信。格式为 <code>&lt;addr/host&gt;[:&lt;port&gt;]</code>。<br>- 主机名需要能正常解析地址<br>- IP 地址需要能正常访问<br>- IPv6 地址使用 <code>[...]</code> 表示法，如 <code>[::1]:26257</code><br>- 未指定时默认使用 <code>--listen-addr</code> 的值<br>- 仅指定部分值时,未指定部分使用 <code>--listen-addr</code> 对应值<br>- 与 <code>--listen-addr</code> 配合使用,端口不同时需要端口转发<br>默认值：<code>--listen-addr</code> 的值</td></tr><tr><td><code>--attrs</code></td><td>节点属性列表，用冒号(<code>:</code>)分隔。可以是任意字符串，用于指定机器能力，如专有硬件或内核数量。<br>示例：<code>--attrs=x16c:gpu</code></td></tr><tr><td><code>--background</code></td><td>在后台启动节点。与在命令行末尾添加 <code>&amp;</code> 类似，但会等待节点就绪后才返回控制权。<br><strong>说明</strong>：适用于短期测试，不建议用于长期运行。长期运行建议使用服务管理器或 daemon(8)</td></tr><tr><td><code>--brpc-addr</code></td><td>时序引擎间的 brpc 通信地址。格式为 <code>&lt;host&gt;:&lt;port&gt;</code> 或 <code>:&lt;port&gt;</code>。<br>- 必须指定端口号<br>- IP 可省略，未指定时使用 <code>--advertise-addr</code> 或 <code>--listen-addr</code> 的 IP<br><strong>说明</strong>：与 <code>--advertise-addr</code> 都是节点间通信地址，需确保网络互通。建议使用 <code>:&lt;port&gt;</code> 格式</td></tr><tr><td><code>--buffer-pool-size</code></td><td>AE executor 缓冲池大小。默认值：4096</td></tr><tr><td><code>--cache</code></td><td>多存储设备共享的缓存大小。支持以下格式：<br>- 小数：<code>--cache=.25</code><br>- 百分比：<code>--cache=25%</code><br>- 字节数：<code>--cache=1000000000</code><br>- GB：<code>--cache=1GB</code>（1000000000字节）<br>- GiB：<code>--cache=1GiB</code>（1073741824字节）<br>默认值：<code>128 MiB</code><br><strong>说明</strong>：建议使用小数格式，避免百分号转义问题</td></tr><tr><td><code>--certs-dir</code></td><td>安全证书目录路径。默认值：<code>${HOME}/.kaiwudb-certs/</code></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>显示帮助信息</td></tr><tr><td><code>--http-addr</code></td><td>Admin 界面的 IP 地址或主机名。IPv6 使用 <code>[...]</code> 表示法。<br>默认值：与 <code>--listen-addr</code> 一致，端口为 8080</td></tr><tr><td><code>--import-path</code></td><td>导入文件路径</td></tr><tr><td><code>--insecure</code></td><td>以非安全模式启动。未指定时使用安全模式</td></tr><tr><td><code>-j</code>, <code>--join</code></td><td>连接集群的节点地址。初始化时需指定 3-5 个节点地址和端口。未指定时启动单节点集群</td></tr><tr><td><code>--listen-addr</code></td><td>监听地址，用于接收其他节点和客户端连接。IPv6 使用 <code>[...]</code> 表示法。<br>默认值：监听所有 IP，端口 26257</td></tr><tr><td><code>--log-dir</code></td><td>日志目录。设为空字符串时关闭日志功能</td></tr><tr><td><code>--log-dir-max-size</code></td><td>日志文件总大小上限，超过后删除最早的日志。默认值：<code>100 MiB</code></td></tr><tr><td><code>--log-file-verbosity</code></td><td>日志文件的记录级别。默认值：<code>INFO</code></td></tr><tr><td><code>--max-offset</code></td><td>允许的最大时钟偏移。超过后服务器会崩溃。所有节点必须一致。默认值：<code>500ms</code></td></tr><tr><td><code>--max-sql-memory</code></td><td>SQL 查询临时数据的最大内存。支持与 <code>--cache</code> 相同的格式。数据存储在 <code>--temp-dir</code> 目录</td></tr><tr><td><code>--restful-port</code></td><td>RESTful 端口。范围：[0,65535]。默认值：8080</td></tr><tr><td><code>--restful-timeout</code></td><td>RESTful API 超时时间。默认值：60</td></tr><tr><td><code>--sql-audit-dir</code></td><td>SQL 审计日志目录。默认与其他日志在同一目录</td></tr><tr><td><code>-s</code>, <code>--store</code></td><td>数据存储路径。可指定多个：<code>--store=/mnt/ssd01 --store=/mnt/ssd02</code></td></tr><tr><td><code>--thread-pool-size</code></td><td>AE executor 线程池大小。默认值：10</td></tr><tr><td><code>--upgrade-complete</code></td><td>标记节点升级完成</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="使用举例-1">使用举例<a href="#使用举例-1" class="hash-link" aria-label="使用举例的直接链接" title="使用举例的直接链接">​</a></h3>
<p>以下示例开启一个单副本节点。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase start-single-replica </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--insecure</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--store</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/node1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--advertise-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:26257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--brpc-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">:27257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--listen-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:26257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--http-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:8080 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--join</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_S6oC" id="kwbase-start-single-node">kwbase start-single-node<a href="#kwbase-start-single-node" class="hash-link" aria-label="kwbase start-single-node的直接链接" title="kwbase start-single-node的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="功能描述-2">功能描述<a href="#功能描述-2" class="hash-link" aria-label="功能描述的直接链接" title="功能描述的直接链接">​</a></h3>
<p><code>kwbase start-single-node</code> 命令用于启动一个单节点集群。</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="命令格式-2">命令格式<a href="#命令格式-2" class="hash-link" aria-label="命令格式的直接链接" title="命令格式的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase start-single-node </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="参数说明-2">参数说明<a href="#参数说明-2" class="hash-link" aria-label="参数说明的直接链接" title="参数说明的直接链接">​</a></h3>
<details class="details_n2MF alert alert--info details_KpjJ" data-collapsed="true"><summary>参数详情</summary><div><div class="collapsibleContent_gkqL"><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>--attrs</code></td><td>节点属性列表，使用冒号(<code>:</code>)分隔。可以是任意字符串，用于指定机器能力，如专有硬件或内核数量。<br>示例：<code>--attrs=x16c:gpu</code></td></tr><tr><td><code>--background</code></td><td>在后台启动节点。与命令行末尾添加 <code>&amp;</code> 类似，但会等待节点就绪后才返回控制权。<br><strong>说明</strong>：适用于短期测试，不建议用于长期运行。长期运行建议使用服务管理器或 daemon(8)</td></tr><tr><td><code>--buffer-pool-size</code></td><td>AE executor 缓冲池大小。<br>默认值：4096</td></tr><tr><td><code>--cache</code></td><td>多存储设备共享的缓存大小。支持以下格式：<br>- 小数：<code>--cache=.25</code><br>- 百分比：<code>--cache=25%</code><br>- 字节数：<code>--cache=1000000000</code><br>- GB：<code>--cache=1GB</code>（1000000000字节）<br>- GiB：<code>--cache=1GiB</code>（1073741824字节）<br>默认值：<code>128 MiB</code><br><strong>说明</strong>：建议使用小数格式，避免百分号转义问题</td></tr><tr><td><code>--certs-dir</code></td><td>安全证书目录路径。<br>默认值：<code>${HOME}/.kaiwudb-certs/</code></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td><code>kwbase start-single-node</code> 命令的帮助信息</td></tr><tr><td><code>--http-addr</code></td><td>Admin 界面的 IP 地址或主机名。IPv6 使用 <code>[...]</code> 表示法。<br>默认值：与 <code>--listen-addr</code> 一致，端口为 8080</td></tr><tr><td><code>--import-path</code></td><td>导入文件路径</td></tr><tr><td><code>--insecure</code></td><td>以非安全模式启动。未指定时使用安全模式</td></tr><tr><td><code>--listen-addr</code></td><td>监听地址，用于接收其他节点和客户端连接。IPv6 使用 <code>[...]</code> 表示法。<br>默认值：监听所有 IP，端口 26257</td></tr><tr><td><code>--log-dir</code></td><td>日志目录。设为空字符串时关闭日志功能</td></tr><tr><td><code>--log-dir-max-size</code></td><td>日志文件总大小上限，超过后删除最早的日志。<br>默认值：<code>100 MiB</code></td></tr><tr><td><code>--log-file-verbosity</code></td><td>日志文件的记录级别。<br>默认值：<code>INFO</code></td></tr><tr><td><code>--max-disk-temp-storage</code></td><td>SQL 查询临时数据的最大磁盘存储空间。支持以下格式：<br>- 小数：<code>--max-disk-temp-storage=.25</code><br>- 百分比：<code>--max-disk-temp-storage=25%</code><br>- 字节数：<code>--max-disk-temp-storage=10000000000</code><br>- GB：<code>--max-disk-temp-storage=1GB</code><br>- GiB：<code>--max-disk-temp-storage=1GiB</code><br>临时文件存储在第一个 <code>--store</code> 目录下。<br>默认值：<code>32GiB</code><br><strong>说明</strong>：建议使用小数格式，避免百分号转义问题</td></tr><tr><td><code>--max-sql-memory</code></td><td>SQL 查询临时数据的最大内存空间。支持以下格式：<br>- 小数：<code>--max-sql-memory=.25</code><br>- 百分比：<code>--max-sql-memory=25%</code><br>- 字节数：<code>--max-sql-memory=10000000000</code><br>- GB：<code>--max-sql-memory=1GB</code><br>- GiB：<code>--max-sql-memory=1GiB</code><br>临时文件存储在 <code>--temp-dir</code> 目录。<br><strong>说明</strong>：建议使用小数格式，避免百分号转义问题</td></tr><tr><td><code>--restful-port</code></td><td>RESTful 端口。范围：[0,65535]。<br>默认值：8080</td></tr><tr><td><code>--restful-timeout</code></td><td>RESTful API 超时时间。<br>默认值：60</td></tr><tr><td><code>--sql-audit-dir</code></td><td>SQL 审计日志目录。默认与其他日志在同一目录</td></tr><tr><td><code>-s</code>, <code>--store</code></td><td>数据存储路径。可指定多个：<code>--store=/mnt/ssd01 --store=/mnt/ssd02</code></td></tr><tr><td><code>--thread-pool-size</code></td><td>AE executor 线程池大小。<br>默认值：10</td></tr><tr><td><code>--upgrade-complete</code></td><td>标记节点升级完成</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="使用举例-2">使用举例<a href="#使用举例-2" class="hash-link" aria-label="使用举例的直接链接" title="使用举例的直接链接">​</a></h3>
<p>以下示例开启一个单节点 KWDB 集群。</p>
<ul>
<li>
<p>TLS 安全模式</p>
<p>以下示例假设已为 <code>root</code> 用户生成证书。有关生成证书的详细信息，参见 <code>kwbase cert</code> 命令的<a href="#%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B-4">使用举例</a>章节。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase start-single-node </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--certs-dir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/root/certs </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--listen-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0.0:26257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--advertise-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:26257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--http-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0.0:8080 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--store</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/kaiwudb/deploy/kaiwudb</span><br></span></code></pre></div></div>
</li>
<li>
<p>非安全模式</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase start-single-node </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--insecure</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--listen-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0.0:26257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--advertise-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:26257 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--http-addr</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0.0:8080 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--store</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/kaiwudb/deploy/kaiwudb</span><br></span></code></pre></div></div>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_S6oC" id="kwbase-init">kwbase init<a href="#kwbase-init" class="hash-link" aria-label="kwbase init的直接链接" title="kwbase init的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="功能描述-3">功能描述<a href="#功能描述-3" class="hash-link" aria-label="功能描述的直接链接" title="功能描述的直接链接">​</a></h3>
<p><code>kwbase init</code> 命令用于初始化 KWDB 集群。</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="命令格式-3">命令格式<a href="#命令格式-3" class="hash-link" aria-label="命令格式的直接链接" title="命令格式的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase init </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="参数说明-3">参数说明<a href="#参数说明-3" class="hash-link" aria-label="参数说明的直接链接" title="参数说明的直接链接">​</a></h3>
<details class="details_n2MF alert alert--info details_KpjJ" data-collapsed="true"><summary>参数详情</summary><div><div class="collapsibleContent_gkqL"><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>--certs-dir</code></td><td>安全证书目录的路径，用于访问、验证以安全模式部署的集群。<br>默认值：<code>${HOME}/.kaiwudb-certs/</code></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td><code>kwbase init</code> 命令的帮助信息。</td></tr><tr><td><code>--host</code></td><td>连接的 KWDB 节点。支持 IP 地址/主机名，格式为 <code>&lt;addr/host&gt;[:&lt;port&gt;]</code>。<br>- 未指定端口号时默认使用 26257<br>- IPv6 地址使用 <code>[...]</code> 表示法，如 <code>[::1]:26257</code><br>环境变量：<code>KWBASE_HOST</code></td></tr><tr><td><code>--insecure</code></td><td>以非安全模式启动集群。未指定时使用安全模式。</td></tr><tr><td><code>--url</code></td><td>连接 URL，格式为 <code>postgresql://[user[:passwd]@]host[:port]/[db][?parameters...]</code><br>示例：postgresql://myuser@localhost:26257/mydb<br>未指定时使用 host、port、user、database、insecure、certs-dir 等连接参数。<br>环境变量：<code>KWBASE_URL</code></td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="使用举例-3">使用举例<a href="#使用举例-3" class="hash-link" aria-label="使用举例的直接链接" title="使用举例的直接链接">​</a></h3>
<p>以下示例假设已启动 KWDB。有关详细信息，参见 <code>kwbase start</code> 命令的<a href="#%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B">使用举例</a>章节。</p>
<p>用户可以在集群的任意节点执行 <code>kwbase init</code> 命令。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase init </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--certs-dir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/root/certs </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token parameter variable" style="color:#36acaa">--host</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">address_of_any_node</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_S6oC" id="kwbase-cert">kwbase cert<a href="#kwbase-cert" class="hash-link" aria-label="kwbase cert的直接链接" title="kwbase cert的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="功能描述-4">功能描述<a href="#功能描述-4" class="hash-link" aria-label="功能描述的直接链接" title="功能描述的直接链接">​</a></h3>
<p><code>kwbase cert</code> 命令用于生成 Certificate Authority（CA）、节点和客户端证书。</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="命令格式-4">命令格式<a href="#命令格式-4" class="hash-link" aria-label="命令格式的直接链接" title="命令格式的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase cert </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">subcommand</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<ul>
<li>
<p><code>create-ca</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase cert create-ca --certs-dir</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">path-to-kaiwudb-certs-dir</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --ca-key</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">path-to-ca-key</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>create-client-ca</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase cert create-client-ca --certs-dir</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">path-to-kaiwudb-certs-dir</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --ca-key</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">path-to-client-ca-key</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>create-node</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase cert create-node --certs-dir</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">path-to-kaiwudb-certs-dir</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --ca-key</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">path-to-ca-key</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">host</span><span class="token operator file-descriptor important" style="color:#393A34">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">host</span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">hostN</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>create-client</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase cert create-client --certs-dir</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">path-to-kaiwudb-certs-dir</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --ca-key</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">path-to-ca-key</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>list</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase cert list </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="子命令">子命令<a href="#子命令" class="hash-link" aria-label="子命令的直接链接" title="子命令的直接链接">​</a></h3>
<table><thead><tr><th>子命令</th><th>说明</th></tr></thead><tbody><tr><td><code>create-ca</code></td><td>生成 CA 证书和密钥。</td></tr><tr><td><code>create-client-ca</code></td><td>生成客户端 CA 证书和密钥。</td></tr><tr><td><code>create-node</code></td><td>生成节点证书和密钥。</td></tr><tr><td><code>create-client</code></td><td>生成客户端证书和密钥。</td></tr><tr><td><code>list</code></td><td>查看 <code>--cert-dir</code> 目录中的证书。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="参数说明-4">参数说明<a href="#参数说明-4" class="hash-link" aria-label="参数说明的直接链接" title="参数说明的直接链接">​</a></h3>
<details class="details_n2MF alert alert--info details_KpjJ" data-collapsed="true"><summary>参数详情</summary><div><div class="collapsibleContent_gkqL"><table><thead><tr><th>参数</th><th>说明</th><th>支持的命令</th></tr></thead><tbody><tr><td><code>--allow-ca-key-reuse</code></td><td>使用已存在的 CA 密钥。</td><td>- <code>kwbase cert create-ca</code><br>- <code>kwbase cert create-client-ca</code></td></tr><tr><td><code>--ca-key</code></td><td>CA 密钥的路径。<br>环境变量：<code>KWBASE_CA_KEY</code></td><td>- <code>kwbase cert create-ca</code><br>- <code>kwbase cert create-client-ca</code><br>- <code>kwbase cert create-node</code><br>- <code>kwbase cert create-client</code></td></tr><tr><td><code>--cert-principal-map</code></td><td>使用逗号（<code>,</code>）隔开的 <code>&lt;cert-principal&gt;:&lt;db-principal&gt;</code> 映射列表，允许将证书中的主体映射到数据库主体，如节点、root 或任何 SQL 用户。这适用于证书管理系统对证书中的 <code>Subject.CommonName</code> 或 <code>SubjectAlternateName</code> 字段有限制的情况（例如，不允许使用节点或 root 等 <code>CommonName</code>）。如果同一证书主体有多个映射项，列表中最后指定的映射项优先生效。映射中未指明的主体将按原样传递。如果数据库主体的名称包含在映射的 <code>CommonName</code> 或 DNS 类型的 <code>SubjectAlternateName</code> 字段中，则允许证书对数据库主体进行身份验证。</td><td>- <code>kwbase cert create-ca</code><br>- <code>kwbase cert create-client-ca</code><br>- <code>kwbase cert create-node</code><br>- <code>kwbase cert create-client</code><br>- <code>kwbase cert list</code></td></tr><tr><td><code>--certs-dir</code></td><td>安全证书目录的路径，用于访问、验证以安全模式部署的集群。<br>默认值：<code>${HOME}/.kaiwudb-certs/</code></td><td>- <code>kwbase cert create-ca</code><br>- <code>kwbase cert create-client-ca</code><br>- <code>kwbase cert create-node</code><br>- <code>kwbase cert create-client</code><br>- <code>kwbase cert list</code></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>命令的帮助信息。</td><td>- <code>kwbase cert</code><br>- <code>kwbase cert create-ca</code><br>- <code>kwbase cert create-client-ca</code><br>- <code>kwbase cert create-node</code><br>- <code>kwbase cert create-client</code><br>- <code>kwbase cert list</code></td></tr><tr><td><code>--key-size</code></td><td>CA、节点、客户端证书密钥的大小（单位：比特）。<br>默认值：2048 比特</td><td>- <code>kwbase cert create-ca</code><br>- <code>kwbase cert create-client-ca</code><br>- <code>kwbase cert create-node</code><br>- <code>kwbase cert create-client</code></td></tr><tr><td><code>--lifetime</code></td><td>证书的生命周期。<br>默认值：<code>43920h0m0s</code></td><td>- <code>kwbase cert create-ca</code><br>- <code>kwbase cert create-client-ca</code><br>- <code>kwbase cert create-node</code><br>- <code>kwbase cert create-client</code></td></tr><tr><td><code>--overwrite</code></td><td>覆写存在的证书和密钥文件。</td><td>- <code>kwbase cert create-ca</code><br>- <code>kwbase cert create-client-ca</code><br>- <code>kwbase cert create-node</code><br>- <code>kwbase cert create-client</code></td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="使用举例-4">使用举例<a href="#使用举例-4" class="hash-link" aria-label="使用举例的直接链接" title="使用举例的直接链接">​</a></h3>
<ol>
<li>
<p>新建 <code>/opt/certs</code> 和 <code>/opt/my-safe-directory</code> 目录。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> /opt/certs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> /opt/my-safe-directory</span><br></span></code></pre></div></div>
<ul>
<li><code>/opt/certs</code>：用于存放生成的 CA 证书以及所有节点和客户端的证书和密钥文件，其中部分文件会传输到节点机器上。</li>
<li><code>/opt/my-safe-directory</code>：用于存放生成的 CA 密钥文件，节点和用户创建证书和密钥的时候使用。</li>
</ul>
</li>
<li>
<p>创建 CA 证书和密钥。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./ kwbase cert create-ca </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--certs-dir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/certs </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--ca-key</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/my-safe-directory/ca.key</span><br></span></code></pre></div></div>
<p>建议备份生成的 CA 证书和密钥对。</p>
</li>
<li>
<p>为集群的第一个节点创建证书和密钥。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase cert create-node </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">IP_address_of_node</span><span class="token operator file-descriptor important" style="color:#393A34">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_hostname</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">other_common_names_for_ node</span><span class="token operator file-descriptor important" style="color:#393A34">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> localhost </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1 </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">load_balancer_IP_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">load_balancer hostname</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">other_common_names_for_load_balancer</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--certs-dir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/certs </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--ca-key</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/my-safe-directory/ca.key</span><br></span></code></pre></div></div>
<p>::: warning 说明</p>
<p>节点的 IP 地址为生成证书的内网或外网 IP 地址。示例：</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase cert create-node </span><span class="token number" style="color:#36acaa">117.73</span><span class="token plain">.10.12 localhost   </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--certs-dir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/certs </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--ca-key</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/my-safe-directory/ca.key</span><br></span></code></pre></div></div>
<p>:::</p>
</li>
<li>
<p>将 CA 证书、节点证书和密钥传送到第一个节点。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ssh</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">@</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;mkdir /root/certs&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">scp</span><span class="token plain"> /opt/certs/ca.crt /opt/certs/node.crt /opt/certs/node.key   </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">@</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node1_address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:/root/certs</span><br></span></code></pre></div></div>
</li>
<li>
<p>删除本地的节点证书和密钥。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> /opt/certs/node.crt /opt/certs/node.key</span><br></span></code></pre></div></div>
</li>
<li>
<p>重复第 3-5 步，为集群其他节点创建证书和密钥。</p>
</li>
<li>
<p>为 <code>root</code> 用户创建客户端证书和密钥。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase cert create-client root   </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--certs-dir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/certs </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--ca-key</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/my-safe-directory/ca.key</span><br></span></code></pre></div></div>
</li>
<li>
<p>将证书和密钥传输到执行 KWDB 命令的机器上，该机器可以是集群内或集群外的节点。拥有证书的机器能够使用 root 账户执行 KWDB 命令，并可以通过该节点访问集群。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ssh</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">@</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">workload address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;mkdir /root/certs&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">scp</span><span class="token plain"> /opt/certs/ca.crt /opt/certs/client.root.crt   /opt/certs/client.root.key </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">username</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">@</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">workload   address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:/root/certs</span><br></span></code></pre></div></div>
<p>::: warning 说明
如果以后需要在其它机器上运行 KWDB 客户端命令，需要将 <code>root</code> 用户的证书和密钥复制到该节点。只有拥有 <code>root</code> 用户证书和密钥的节点，才能够访问集群。
:::</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_S6oC" id="kwbase-sql">kwbase sql<a href="#kwbase-sql" class="hash-link" aria-label="kwbase sql的直接链接" title="kwbase sql的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="功能描述-5">功能描述<a href="#功能描述-5" class="hash-link" aria-label="功能描述的直接链接" title="功能描述的直接链接">​</a></h3>
<p><code>kwbase sql</code> 命令用于开启交互式 SQL Shell。</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="命令格式-5">命令格式<a href="#命令格式-5" class="hash-link" aria-label="命令格式的直接链接" title="命令格式的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase sql </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="参数说明-5">参数说明<a href="#参数说明-5" class="hash-link" aria-label="参数说明的直接链接" title="参数说明的直接链接">​</a></h3>
<details class="details_n2MF alert alert--info details_KpjJ" data-collapsed="true"><summary>参数详情</summary><div><div class="collapsibleContent_gkqL"><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>--cert-principal-map</code></td><td>使用逗号（<code>,</code>）分隔的 <code>&lt;cert-principal&gt;:&lt;db-principal&gt;</code> 映射列表。用于将证书主体映射到数据库主体（如节点、root 或其他 SQL 用户）。适用于证书系统对 <code>Subject.CommonName</code> 或 <code>SubjectAlternateName</code> 字段有限制的情况。多个映射时，以最后一个为准。未映射的主体按原样传递。数据库主体名称需包含在映射的 <code>CommonName</code> 或 DNS 类型的 <code>SubjectAlternateName</code> 字段中。</td></tr><tr><td><code>--certs-dir</code></td><td>安全证书目录路径，用于访问和验证安全模式集群。<br>默认值：<code>${HOME}/.kaiwudb-certs/</code></td></tr><tr><td><code>-d</code>, <code>--database</code></td><td>要连接的数据库名称。<br>环境变量：<code>KWBASE_DATABASE</code></td></tr><tr><td><code>--debug-sql-cli</code></td><td>简化 SQL CLI 以便调试。回显 SQL 语句，移除提示符中的数据库名和事务状态，使行为独立于事务状态。</td></tr><tr><td><code>--echo-sql</code></td><td>显示命令行工具隐式发送的 SQL 语句。</td></tr><tr><td><code>-e</code>, <code>--execute</code></td><td>执行 SQL 语句后退出。可多次使用，支持多个以分号分隔的语句。语句出错时以非零状态码退出。结果输出到标准输出。</td></tr><tr><td><code>--format</code></td><td>设置表格显示格式：<br>- <code>tsv</code><br>- <code>csv</code><br>- <code>table</code><br>- <code>records</code><br>- <code>sql</code><br>- <code>raw</code><br>- <code>html</code><br>非交互式默认为 <code>tsv</code>，交互式默认为 <code>table</code>。<br>默认值：<code>table</code></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>显示 <code>kwbase sql</code> 命令帮助信息。</td></tr><tr><td><code>--insecure</code></td><td>以非安全模式启动集群。默认使用安全模式。</td></tr><tr><td><code>--safe-updates</code></td><td>禁用可能有意外副作用的 SQL 语句（如无 WHERE 子句的 DELETE/UPDATE）。默认启用（<code>true</code>）。可通过 <code>SET sql_safe_updates = FALSE</code> 禁用。</td></tr><tr><td><code>--set</code></td><td>在启动 SQL Shell 前设置客户端配置参数。</td></tr><tr><td><code>--url</code></td><td>连接 URL，格式：<code>postgresql://[user[:passwd]@]host[:port]/[db][?parameters...]</code><br>示例：postgresql://myuser@localhost:26257/mydb<br>未指定时使用其他连接参数。<br>环境变量：<code>KWBASE_URL</code></td></tr><tr><td><code>-u</code>, <code>--user</code></td><td>KWDB 数据库用户名。<br>环境变量：<code>KWBASE_USER</code></td></tr><tr><td><code>--watch</code></td><td>按指定间隔重复执行 <code>--execute</code> 指定的 SQL 语句。执行失败时停止监控。</td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="使用举例-5">使用举例<a href="#使用举例-5" class="hash-link" aria-label="使用举例的直接链接" title="使用举例的直接链接">​</a></h3>
<ul>
<li>
<p>TLS 安全模式</p>
<p>以下示例假设已为 <code>root</code> 用户生成证书。有关生成证书的详细信息，参见 <code>kwbase cert</code> 命令的<a href="#%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B-4">使用举例</a>章节。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase sql --certs-dir</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">certs </span><span class="token parameter variable" style="color:#36acaa">--host</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">address_of_any node</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
</li>
<li>
<p>非安全模式</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase sql </span><span class="token parameter variable" style="color:#36acaa">--insecure</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--host</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">address_of_any_node</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_S6oC" id="kwbase-auth-session">kwbase auth-session<a href="#kwbase-auth-session" class="hash-link" aria-label="kwbase auth-session的直接链接" title="kwbase auth-session的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="功能描述-6">功能描述<a href="#功能描述-6" class="hash-link" aria-label="功能描述的直接链接" title="功能描述的直接链接">​</a></h3>
<p><code>kwbase auth-session</code> 命令用于创建和管理 HTTP 接口的会话和认证令牌。</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="所需权限">所需权限<a href="#所需权限" class="hash-link" aria-label="所需权限的直接链接" title="所需权限的直接链接">​</a></h3>
<p>用户是 <code>admin</code> 角色的成员。默认情况下，<code>root</code> 用户属于 <code>admin</code> 角色。</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="命令格式-6">命令格式<a href="#命令格式-6" class="hash-link" aria-label="命令格式的直接链接" title="命令格式的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase auth-session </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">subcommand</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<ul>
<li>
<p><code>login</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase auth-session login </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">session-username</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>logout</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase auth-session </span><span class="token builtin class-name">logout</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">session-username</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>list</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase auth-session list </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="子命令-1">子命令<a href="#子命令-1" class="hash-link" aria-label="子命令的直接链接" title="子命令的直接链接">​</a></h3>
<table><thead><tr><th>子命令</th><th>说明</th></tr></thead><tbody><tr><td><code>login</code></td><td>为指定用户创建 HTTP 会话和令牌。</td></tr><tr><td><code>logout</code></td><td>撤回之前为指定用户创建的所有 HTTP 会话令牌。</td></tr><tr><td><code>list</code></td><td>查看当前活跃的 HTTP 会话。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="参数说明-6">参数说明<a href="#参数说明-6" class="hash-link" aria-label="参数说明的直接链接" title="参数说明的直接链接">​</a></h3>
<details class="details_n2MF alert alert--info details_KpjJ" data-collapsed="true"><summary>参数详情</summary><div><div class="collapsibleContent_gkqL"><table><thead><tr><th>参数</th><th>说明</th><th>支持的命令</th></tr></thead><tbody><tr><td><code>--cert-principal-map</code></td><td>使用逗号（<code>,</code>）分隔的 <code>&lt;cert-principal&gt;:&lt;db-principal&gt;</code> 映射列表。用于将证书主体映射到数据库主体（如节点、root 或其他 SQL 用户）。适用于证书系统对 <code>Subject.CommonName</code> 或 <code>SubjectAlternateName</code> 字段有限制的情况。多个映射时，后面的优先。未映射的主体按原样传递。</td><td>- <code>kwbase auth-session login</code><br>- <code>kwbase auth-session logout</code><br>- <code>kwbase auth-session list</code></td></tr><tr><td><code>--certs-dir</code></td><td>安全证书目录路径，用于访问和验证安全模式集群。<br>默认值：<code>${HOME}/.kaiwudb-certs/</code></td><td>- <code>kwbase auth-session login</code><br>- <code>kwbase auth-session logout</code><br>- <code>kwbase auth-session list</code></td></tr><tr><td><code>--echo-sql</code></td><td>显示命令行工具隐式发送的 SQL 语句。</td><td>- <code>kwbase auth-session login</code><br>- <code>kwbase auth-session logout</code><br>- <code>kwbase auth-session list</code></td></tr><tr><td><code>--expire-after</code></td><td>HTTP 认证令牌的有效期。使用数值加 <code>h</code>（小时）、<code>m</code>（分钟）、<code>s</code>（秒）指定。<br>默认值：<code>1h0m0s</code></td><td><code>kwbase auth-session login</code></td></tr><tr><td><code>--format</code></td><td>结果表格显示格式：<br>- <code>tsv</code><br>- <code>csv</code><br>- <code>table</code><br>- <code>records</code><br>- <code>sql</code><br>- <code>raw</code><br>- <code>html</code><br>默认值：非交互式为 <code>tsv</code>，交互式为 <code>table</code></td><td>- <code>kwbase auth-session login</code><br>- <code>kwbase auth-session logout</code><br>- <code>kwbase auth-session list</code></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>显示命令帮助信息。</td><td>- <code>kwbase auth-session</code><br>- <code>kwbase auth-session login</code><br>- <code>kwbase auth-session logout</code><br>- <code>kwbase auth-session list</code></td></tr><tr><td><code>--insecure</code></td><td>以非安全模式启动集群。未指定时使用安全模式。</td><td>- <code>kwbase auth-session login</code><br>- <code>kwbase auth-session logout</code><br>- <code>kwbase auth-session list</code></td></tr><tr><td><code>--only-cookie</code></td><td>仅显示新创建的 HTTP 认证令牌（cookie），用于输出到其他命令。</td><td><code>kwbase auth-session login</code></td></tr><tr><td><code>--url</code></td><td>连接 URL，格式：<code>postgresql://[user[:passwd]@]host[:port]/[db][?parameters...]</code><br>示例：<code>postgresql://myuser@localhost:26257/mydb</code><br>未指定时使用其他连接参数。<br>环境变量：<code>KWBASE_URL</code></td><td>- <code>kwbase auth-session login</code><br>- <code>kwbase auth-session logout</code><br>- <code>kwbase auth-session list</code></td></tr><tr><td><code>-u</code>, <code>--user</code></td><td>KWDB 数据库用户名。<br>环境变量：<code>KWBASE_USER</code></td><td>- <code>kwbase auth-session login</code><br>- <code>kwbase auth-session logout</code><br>- <code>kwbase auth-session list</code></td></tr></tbody></table></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="返回字段说明">返回字段说明<a href="#返回字段说明" class="hash-link" aria-label="返回字段说明的直接链接" title="返回字段说明的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_S6oC" id="auth-session-login">auth-session login<a href="#auth-session-login" class="hash-link" aria-label="auth-session login的直接链接" title="auth-session login的直接链接">​</a></h4>
<table><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td><code>username</code></td><td>认证用户的用户名。</td></tr><tr><td><code>session ID</code></td><td>为指定用户创建的 HTTP 接口的会话 ID。</td></tr><tr><td><code>authentication cookie</code></td><td>用于用户通过 CLI 工具或其他工具访问 HTTP 接口时进行身份认证时使用的认证令牌。</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_S6oC" id="auth-session-logout">auth-session logout<a href="#auth-session-logout" class="hash-link" aria-label="auth-session logout的直接链接" title="auth-session logout的直接链接">​</a></h4>
<table><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td><code>username</code></td><td>撤销会话的用户的用户名</td></tr><tr><td><code>session ID</code></td><td>为指定用户创建的 HTTP 接口的会话 ID</td></tr><tr><td><code>revoked</code></td><td>撤销指定用户认证会话的日期和时间</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_S6oC" id="auth-session-list">auth-session list<a href="#auth-session-list" class="hash-link" aria-label="auth-session list的直接链接" title="auth-session list的直接链接">​</a></h4>
<table><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td><code>username</code></td><td>认证用户的用户名</td></tr><tr><td><code>session ID</code></td><td>为指定用户创建的 HTTP 接口的会话 ID</td></tr><tr><td><code>created</code></td><td>认证会话创建的时间和日期</td></tr><tr><td><code>expired</code></td><td>认证会话过期的时间和日期</td></tr><tr><td><code>revoked</code></td><td>撤销指定用户认证会话的日期和时间。如果认证会话依旧活跃，则显示 <code>NULL</code></td></tr><tr><td><code>last used</code></td><td>上一次使用该会话令牌访问 HTTP 接口的时间和日期</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_S6oC" id="kwbase-node">kwbase node<a href="#kwbase-node" class="hash-link" aria-label="kwbase node的直接链接" title="kwbase node的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="功能描述-7">功能描述<a href="#功能描述-7" class="hash-link" aria-label="功能描述的直接链接" title="功能描述的直接链接">​</a></h3>
<p><code>kwbase node</code> 命令用于查看、检查、排空或移除 KWDB 集群中每个节点。</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="命令格式-7">命令格式<a href="#命令格式-7" class="hash-link" aria-label="命令格式的直接链接" title="命令格式的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">subcommand</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<ul>
<li>
<p><code>ls</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>status</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> status </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_id</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>decommission</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> decommission </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_id </span><span class="token operator file-descriptor important" style="color:#393A34">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_id </span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>recommission</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> recommission </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_id </span><span class="token operator file-descriptor important" style="color:#393A34">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_id </span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>drain</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> drain </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>upgrade</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> upgrade </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_id </span><span class="token operator file-descriptor important" style="color:#393A34">1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_id </span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="子命令-2">子命令<a href="#子命令-2" class="hash-link" aria-label="子命令的直接链接" title="子命令的直接链接">​</a></h3>
<table><thead><tr><th>子命令</th><th>说明</th></tr></thead><tbody><tr><td><code>ls</code></td><td>列出集群中所有节点的 ID。</td></tr><tr><td><code>status</code></td><td>查看集群中单个或所有节点的状态。</td></tr><tr><td><code>decommission</code></td><td>停用集群节点。</td></tr><tr><td><code>recommission</code></td><td>重新配置停用的集群节点。</td></tr><tr><td><code>drain</code></td><td>排空节点。</td></tr><tr><td><code>upgrade</code></td><td>升级节点。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="参数说明-7">参数说明<a href="#参数说明-7" class="hash-link" aria-label="参数说明的直接链接" title="参数说明的直接链接">​</a></h3>
<details class="details_n2MF alert alert--info details_KpjJ" data-collapsed="true"><summary>参数详情</summary><div><div class="collapsibleContent_gkqL"><table><thead><tr><th>参数</th><th>说明</th><th>支持的命令</th></tr></thead><tbody><tr><td><code>--all</code></td><td>查看所有节点的详细信息。如未指定节点 ID，查看集群内所有已停用的节点。</td><td><code>kwbase node status</code></td></tr><tr><td><code>--cert-principal-map</code></td><td>使用逗号（<code>,</code>）隔开的 <code>&lt;cert-principal&gt;:&lt;db-principal&gt;</code> 映射列表，允许将证书中的主体映射到数据库主体，如节点、root 或任何 SQL 用户。这适用于证书管理系统对证书中的 <code>Subject.CommonName</code> 或 <code>SubjectAlternateName</code> 字段有限制的情况（例如，不允许使用节点或 root 等 <code>CommonName</code>）。如果同一证书主体有多个映射项，列表中最后指定的映射项优先生效。映射中未指明的主体将按原样传递。如果数据库主体的名称包含在映射的 <code>CommonName</code> 或 DNS 类型的 <code>SubjectAlternateName</code> 字段中，则允许证书对数据库主体进行身份验证。</td><td><code>kwbase node ls</code><br><code>kwbase node status</code><br><code>kwbase node decommission</code><br><code>kwbase node recommission</code><br><code>kwbase node drain</code><br><code>kwbase node upgrade</code></td></tr><tr><td><code>--certs-dir</code></td><td>安全证书目录的路径，用于访问、验证以安全模式部署的集群。<br>默认值：<code>${HOME}/.kaiwudb-certs/</code></td><td><code>kwbase node ls</code><br><code>kwbase node status</code><br><code>kwbase node decommission</code><br><code>kwbase node recommission</code><br><code>kwbase node drain</code><br><code>kwbase node upgrade</code></td></tr><tr><td><code>--cluster-name</code></td><td>为远程节点或集群设置名称，以验证其身份。该值必须与此节点和通过 <code>--join</code> 参数指定的远程节点相匹配。当节点或集群或两者都尚未初始化，也不知道其集群 ID 时，可以使用此名称作为额外的验证手段。要将集群名称加入已初始化的集群中，请将此参数与 <code>--disable-cluster-name-verification</code> 搭配使用。</td><td><code>kwbase node ls</code><br><code>kwbase node status</code><br><code>kwbase node decommission</code><br><code>kwbase node recommission</code><br><code>kwbase node drain</code><br><code>kwbase node upgrade</code></td></tr><tr><td><code>--decommission</code></td><td>查看节点停用的详细信息。如未指定节点 ID，查看集群内所有已停用的节点。</td><td><code>kwbase node status</code></td></tr><tr><td><code>--disable-cluster-name-verification</code></td><td>配置服务器忽略群集名称不匹配。适用于启动现有集群，或更改群集名称后启动集群的情况。应使用 <code>--cluster-name</code> 和 <code>--disable-cluster-name-verification</code> 参数重新启动集群。一旦所有节点都已更新为知道新的集群名称，就可以移除该参数并再次重启集群。</td><td><code>kwbase node ls</code><br><code>kwbase node status</code><br><code>kwbase node decommission</code><br><code>kwbase node recommission</code><br><code>kwbase node drain</code><br><code>kwbase node upgrade</code></td></tr><tr><td><code>--drain-wait</code></td><td>系统等待节点排空所有活动的客户端连接以及迁移数据分片租约的时间。<br>默认值：<code>10m0s</code></td><td><code>kwbase node drain</code></td></tr><tr><td><code>--format</code></td><td>选择如何在结果中显示表格行。支持以下取值：<br>- <code>tsv</code><br>- <code>csv</code><br>- <code>table</code><br>- <code>records</code><br>- <code>sql</code><br>- <code>raw</code><br>- <code>html</code><br>如未指定，对于非交互式会话，默认为 <code>tsv</code>；对于交互式会话，默认为 <code>table</code>。<br>默认值：<code>table</code></td><td><code>kwbase node ls</code><br><code>kwbase node status</code><br><code>kwbase node decommission</code><br><code>kwbase node recommission</code><br><code>kwbase node drain</code><br><code>kwbase node upgrade</code></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>命令的帮助信息。</td><td><code>kwbase node</code><br><code>kwbase node ls</code><br><code>kwbase node status</code><br><code>kwbase node decommission</code><br><code>kwbase node recommission</code><br><code>kwbase node drain</code><br><code>kwbase node upgrade</code></td></tr><tr><td><code>--host</code></td><td>连接的 KWDB 节点。支持 IP 地址/主机名，采用 <code>&lt;addr/host&gt;[:&lt;port&gt;]</code> 格式。如果未指定端口号，默认使用 <code>26257</code>。对于 IPv6 地址，使用 <code>[...]</code> 表示法，例如：<code>[::1]:26257</code> 或 <code>[fe80::f6f2::1]:26257</code>。<br>环境变量：<code>KWBASE_HOST</code></td><td><code>kwbase node ls</code><br><code>kwbase node status</code><br><code>kwbase node decommission</code><br><code>kwbase node recommission</code><br><code>kwbase node drain</code><br><code>kwbase node upgrade</code></td></tr><tr><td><code>--insecure</code></td><td>以非安全模式启动集群。如未指定，以安全模式启动集群。</td><td><code>kwbase node ls</code><br><code>kwbase node status</code><br><code>kwbase node decommission</code><br><code>kwbase node recommission</code><br><code>kwbase node drain</code><br><code>kwbase node upgrade</code></td></tr><tr><td><code>--ranges</code></td><td>查看节点数据分片和副本的详细信息。</td><td><code>kwbase node status</code></td></tr><tr><td><code>--stats</code></td><td>查看节点磁盘使用的详细信息。</td><td><code>kwbase node status</code></td></tr><tr><td><code>--timeout</code></td><td>设置子命令运行的超时时间。如果未在规定时间内完成操作，</td><td></td></tr><tr><td><code>--url</code></td><td>连接 URL，采用 <code>postgresql://[user[:passwd]@]host[:port]/[db][?parameters...]</code> 格式，例如 &quot;postgresql://myuser@localhost:26257/mydb&quot;。如未指定，使用 <code>host</code>、<code>port</code>、<code>user</code>、<code>databse</code>、<code>insecure</code>、<code>certs-dir</code> 等连接参数。<br>环境变量：<code>KWBASE_URL</code></td><td>- <code>kwbase node ls</code> <br>- <code>kwbase node decommission</code> <br>- <code>kwbase node recommission</code> <br>- <code>kwbase node drain</code> <br>- <code>kwbase node upgrade</code></td></tr><tr><td><code>--wait</code></td><td>指定在将目标节点标记为停用状态后要何时返回。该参数支持以下取值：<br>- <code>all</code>：直到所有目标节点的副本数量降至零。<br>- <code>none</code>：将目标节点标记为停用状态，但无需等待整个过程完成。当从外部系统手动轮询时，使用该参数取值。<br>默认值：<code>all</code></td><td>- <code>kwbase node decommission</code> <br>- <code>kwbase node upgrade</code></td></tr></tbody></table></div></div></details>
<h2 class="anchor anchorWithStickyNavbar_S6oC" id="kwbase-gen">kwbase gen<a href="#kwbase-gen" class="hash-link" aria-label="kwbase gen的直接链接" title="kwbase gen的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="功能描述-8">功能描述<a href="#功能描述-8" class="hash-link" aria-label="功能描述的直接链接" title="功能描述的直接链接">​</a></h3>
<p><code>kwbase gen</code> 命令用于生成 CLI 工具信息、SQL Shell 配置举例、数据库举例等信息。</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="命令格式-8">命令格式<a href="#命令格式-8" class="hash-link" aria-label="命令格式的直接链接" title="命令格式的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase gen </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">subcommand</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<ul>
<li>
<p><code>haproxy</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase gen haproxy </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
<li>
<p><code>encryption-key</code></p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase gen encryption-key </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="子命令-3">子命令<a href="#子命令-3" class="hash-link" aria-label="子命令的直接链接" title="子命令的直接链接">​</a></h3>
<table><thead><tr><th>子命令</th><th>说明</th></tr></thead><tbody><tr><td><code>haproxy</code></td><td>为连接的集群生成 <code>haproxy.cfg</code> 文件。</td></tr><tr><td><code>encryption-key</code></td><td>为静态加密生成存储键。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="参数说明-8">参数说明<a href="#参数说明-8" class="hash-link" aria-label="参数说明的直接链接" title="参数说明的直接链接">​</a></h3>
<details class="details_n2MF alert alert--info details_KpjJ" data-collapsed="true"><summary>参数详情</summary><div><div class="collapsibleContent_gkqL"><table><thead><tr><th>参数</th><th>说明</th><th>支持的命令</th></tr></thead><tbody><tr><td><code>--cert-principal-map</code></td><td>使用逗号（<code>,</code>）分隔的 <code>&lt;cert-principal&gt;:&lt;db-principal&gt;</code> 映射列表，用于将证书主体映射到数据库主体（如节点、root 或 SQL 用户）。适用于证书系统对 <code>Subject.CommonName</code> 或 <code>SubjectAlternateName</code> 字段有限制的情况。多个映射时，最后一个生效。未映射的主体按原样传递。</td><td><code>kwbase gen haproxy</code></td></tr><tr><td><code>--certs-dir</code></td><td>安全证书目录路径。<br>默认值：<code>${HOME}/.kaiwudb-certs/</code></td><td><code>kwbase gen haproxy</code></td></tr><tr><td><code>--cluster-name</code></td><td>设置远程节点/集群名称用于身份验证。必须与本节点和 <code>--join</code> 指定的远程节点匹配。用于未初始化节点的额外验证。加入已初始化集群时需配合 <code>--disable-cluster-name-verification</code> 使用。</td><td><code>kwbase gen haproxy</code></td></tr><tr><td><code>--disable-cluster-name-verification</code></td><td>忽略集群名称不匹配。用于启动现有集群或更改集群名称后。需与 <code>--cluster-name</code> 一起使用重启集群。所有节点更新后可移除此参数重启。</td><td><code>kwbase gen haproxy</code></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>显示帮助信息。</td><td>- <code>kwbase gen</code><br>- <code>kwbase gen haproxy</code><br>- <code>kwbase gen encryption-key</code></td></tr><tr><td><code>--host</code></td><td>连接节点的地址。格式：<code>&lt;addr/host&gt;[:&lt;port&gt;]</code>。<br>- 默认端口：26257<br>- IPv6 格式：<code>[::1]:26257</code><br>环境变量：<code>KWBASE_HOST</code></td><td><code>kwbase gen haproxy</code></td></tr><tr><td><code>--insecure</code></td><td>使用非安全模式启动。默认使用安全模式。</td><td><code>kwbase gen haproxy</code></td></tr><tr><td><code>--out</code></td><td>HAProxy 配置文件路径。<br>默认值：<code>haproxy.cfg</code></td><td><code>kwbase gen haproxy</code></td></tr><tr><td><code>--overwrite</code></td><td>覆盖现有密钥。</td><td><code>kwbase gen encryption-key</code></td></tr><tr><td><code>-s</code>, <code>--size</code></td><td>AES 静态加密密钥大小：<br>- 128<br>- 192<br>- 256<br>默认值：128</td><td><code>kwbase gen encryption-key</code></td></tr><tr><td><code>--url</code></td><td>连接 URL。格式：<code>postgresql://[user[:passwd]@]host[:port]/[db][?parameters...]</code><br>示例：postgresql://myuser@localhost:26257/mydb<br>未指定时使用独立连接参数。<br>环境变量：<code>KWBASE_URL</code></td><td><code>kwbase gen haproxy</code></td></tr></tbody></table></div></div></details>
<h2 class="anchor anchorWithStickyNavbar_S6oC" id="kwbase-version">kwbase version<a href="#kwbase-version" class="hash-link" aria-label="kwbase version的直接链接" title="kwbase version的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="功能描述-9">功能描述<a href="#功能描述-9" class="hash-link" aria-label="功能描述的直接链接" title="功能描述的直接链接">​</a></h3>
<p><code>kwbase version</code> 命令用于查看 KWDB 的版本信息。</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="命令格式-9">命令格式<a href="#命令格式-9" class="hash-link" aria-label="命令格式的直接链接" title="命令格式的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase version </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="参数说明-9">参数说明<a href="#参数说明-9" class="hash-link" aria-label="参数说明的直接链接" title="参数说明的直接链接">​</a></h3>
<table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>-h</code>, <code>--help</code></td><td><code>kwbase version</code> 命令的帮助信息。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="使用举例-6">使用举例<a href="#使用举例-6" class="hash-link" aria-label="使用举例的直接链接" title="使用举例的直接链接">​</a></h3>
<p>以下示例查看 KWDB 的版本信息。</p>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KWDB Version:  </span><span class="token number" style="color:#36acaa">2.1</span><span class="token plain">.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Build Time:       </span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">/12/02 06:42:24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Distribution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Platform:         linux amd64 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x86_64-linux-gnu</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Go Version:       go1.16.15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C Compiler:       gcc </span><span class="token number" style="color:#36acaa">11.4</span><span class="token plain">.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Build SHA-1:      83c35a67ab352611ce97300307ebe7d704d24888</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_S6oC" id="kwbase-help">kwbase help<a href="#kwbase-help" class="hash-link" aria-label="kwbase help的直接链接" title="kwbase help的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="功能描述-10">功能描述<a href="#功能描述-10" class="hash-link" aria-label="功能描述的直接链接" title="功能描述的直接链接">​</a></h3>
<p><code>kwbase help</code> 命令用于查看 kwbase CLI 工具的帮助信息。</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="命令格式-10">命令格式<a href="#命令格式-10" class="hash-link" aria-label="命令格式的直接链接" title="命令格式的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase </span><span class="token builtin class-name">help</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="参数说明-10">参数说明<a href="#参数说明-10" class="hash-link" aria-label="参数说明的直接链接" title="参数说明的直接链接">​</a></h3>
<p>无</p>
<h3 class="anchor anchorWithStickyNavbar_S6oC" id="使用举例-7">使用举例<a href="#使用举例-7" class="hash-link" aria-label="使用举例的直接链接" title="使用举例的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_PXQd theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_hT68"><pre tabindex="0" class="prism-code language-bash codeBlock_IXTZ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_wiwg"><span class="token-line" style="color:#393A34"><span class="token plain">./kwbase </span><span class="token builtin class-name">help</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KwDB command-line interface and server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  kwbase </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">command</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Available Commands:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  start                start a </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> a multi-node cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  start-single-replica start a single-replica </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> a multi-node cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  start-single-node    start a single-node cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  init                 initialize a cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cert                 create ca, node, and client certs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sql                  </span><span class="token function" style="color:#d73a49">open</span><span class="token plain"> a sql shell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  statement-diag       commands </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> managing statement diagnostics bundles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  auth-session         log </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> and out of HTTP sessions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">node</span><span class="token plain">                 list, inspect, drain or remove nodes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nodelocal            upload and delete nodelocal files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  demo                 </span><span class="token function" style="color:#d73a49">open</span><span class="token plain"> a demo sql shell </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">not suitable </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> time-series scenario</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  gen                  generate auxiliary files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  version              output version information</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  debug                debugging commands</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sqlfmt               </span><span class="token function" style="color:#d73a49">format</span><span class="token plain"> SQL statements</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  workload             generators </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> data and query loads</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  systembench          Run systembench</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin class-name">help</span><span class="token plain">                 Help about any </span><span class="token builtin class-name">command</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Flags:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -h, </span><span class="token parameter variable" style="color:#36acaa">--help</span><span class="token plain">                             </span><span class="token builtin class-name">help</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> kwbase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token parameter variable" style="color:#36acaa">--logtostderr</span><span class="token plain"> Severity</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">DEFAULT</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">   logs at or above this threshold go to stderr </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default NONE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      --no-color                         disable standard error log colorization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token parameter variable" style="color:#36acaa">--vmodule</span><span class="token plain"> moduleSpec               comma-separated list of </span><span class="token assign-left variable" style="color:#36acaa">pattern</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">N settings </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> file-filtered logging </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">significantly hurts performance</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Use </span><span class="token string" style="color:#e3116c">&quot;kwbase [command] --help&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">more</span><span class="token plain"> information about a command.</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/dev/docs/cli"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">CLI 命令参考</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/dev/docs/design"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">设计文档</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_wFJl thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#kwbase-start" class="table-of-contents__link toc-highlight">kwbase start</a><ul><li><a href="#功能描述" class="table-of-contents__link toc-highlight">功能描述</a></li><li><a href="#命令格式" class="table-of-contents__link toc-highlight">命令格式</a></li><li><a href="#参数说明" class="table-of-contents__link toc-highlight">参数说明</a></li><li><a href="#使用举例" class="table-of-contents__link toc-highlight">使用举例</a></li></ul></li><li><a href="#kwbase-start-single-replica" class="table-of-contents__link toc-highlight">kwbase start-single-replica</a><ul><li><a href="#功能描述-1" class="table-of-contents__link toc-highlight">功能描述</a></li><li><a href="#命令格式-1" class="table-of-contents__link toc-highlight">命令格式</a></li><li><a href="#参数说明-1" class="table-of-contents__link toc-highlight">参数说明</a></li><li><a href="#使用举例-1" class="table-of-contents__link toc-highlight">使用举例</a></li></ul></li><li><a href="#kwbase-start-single-node" class="table-of-contents__link toc-highlight">kwbase start-single-node</a><ul><li><a href="#功能描述-2" class="table-of-contents__link toc-highlight">功能描述</a></li><li><a href="#命令格式-2" class="table-of-contents__link toc-highlight">命令格式</a></li><li><a href="#参数说明-2" class="table-of-contents__link toc-highlight">参数说明</a></li><li><a href="#使用举例-2" class="table-of-contents__link toc-highlight">使用举例</a></li></ul></li><li><a href="#kwbase-init" class="table-of-contents__link toc-highlight">kwbase init</a><ul><li><a href="#功能描述-3" class="table-of-contents__link toc-highlight">功能描述</a></li><li><a href="#命令格式-3" class="table-of-contents__link toc-highlight">命令格式</a></li><li><a href="#参数说明-3" class="table-of-contents__link toc-highlight">参数说明</a></li><li><a href="#使用举例-3" class="table-of-contents__link toc-highlight">使用举例</a></li></ul></li><li><a href="#kwbase-cert" class="table-of-contents__link toc-highlight">kwbase cert</a><ul><li><a href="#功能描述-4" class="table-of-contents__link toc-highlight">功能描述</a></li><li><a href="#命令格式-4" class="table-of-contents__link toc-highlight">命令格式</a></li><li><a href="#子命令" class="table-of-contents__link toc-highlight">子命令</a></li><li><a href="#参数说明-4" class="table-of-contents__link toc-highlight">参数说明</a></li><li><a href="#使用举例-4" class="table-of-contents__link toc-highlight">使用举例</a></li></ul></li><li><a href="#kwbase-sql" class="table-of-contents__link toc-highlight">kwbase sql</a><ul><li><a href="#功能描述-5" class="table-of-contents__link toc-highlight">功能描述</a></li><li><a href="#命令格式-5" class="table-of-contents__link toc-highlight">命令格式</a></li><li><a href="#参数说明-5" class="table-of-contents__link toc-highlight">参数说明</a></li><li><a href="#使用举例-5" class="table-of-contents__link toc-highlight">使用举例</a></li></ul></li><li><a href="#kwbase-auth-session" class="table-of-contents__link toc-highlight">kwbase auth-session</a><ul><li><a href="#功能描述-6" class="table-of-contents__link toc-highlight">功能描述</a></li><li><a href="#所需权限" class="table-of-contents__link toc-highlight">所需权限</a></li><li><a href="#命令格式-6" class="table-of-contents__link toc-highlight">命令格式</a></li><li><a href="#子命令-1" class="table-of-contents__link toc-highlight">子命令</a></li><li><a href="#参数说明-6" class="table-of-contents__link toc-highlight">参数说明</a></li><li><a href="#返回字段说明" class="table-of-contents__link toc-highlight">返回字段说明</a></li></ul></li><li><a href="#kwbase-node" class="table-of-contents__link toc-highlight">kwbase node</a><ul><li><a href="#功能描述-7" class="table-of-contents__link toc-highlight">功能描述</a></li><li><a href="#命令格式-7" class="table-of-contents__link toc-highlight">命令格式</a></li><li><a href="#子命令-2" class="table-of-contents__link toc-highlight">子命令</a></li><li><a href="#参数说明-7" class="table-of-contents__link toc-highlight">参数说明</a></li></ul></li><li><a href="#kwbase-gen" class="table-of-contents__link toc-highlight">kwbase gen</a><ul><li><a href="#功能描述-8" class="table-of-contents__link toc-highlight">功能描述</a></li><li><a href="#命令格式-8" class="table-of-contents__link toc-highlight">命令格式</a></li><li><a href="#子命令-3" class="table-of-contents__link toc-highlight">子命令</a></li><li><a href="#参数说明-8" class="table-of-contents__link toc-highlight">参数说明</a></li></ul></li><li><a href="#kwbase-version" class="table-of-contents__link toc-highlight">kwbase version</a><ul><li><a href="#功能描述-9" class="table-of-contents__link toc-highlight">功能描述</a></li><li><a href="#命令格式-9" class="table-of-contents__link toc-highlight">命令格式</a></li><li><a href="#参数说明-9" class="table-of-contents__link toc-highlight">参数说明</a></li><li><a href="#使用举例-6" class="table-of-contents__link toc-highlight">使用举例</a></li></ul></li><li><a href="#kwbase-help" class="table-of-contents__link toc-highlight">kwbase help</a><ul><li><a href="#功能描述-10" class="table-of-contents__link toc-highlight">功能描述</a></li><li><a href="#命令格式-10" class="table-of-contents__link toc-highlight">命令格式</a></li><li><a href="#参数说明-10" class="table-of-contents__link toc-highlight">参数说明</a></li><li><a href="#使用举例-7" class="table-of-contents__link toc-highlight">使用举例</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dev/docs/quickstart/5M-quick-start">快速开始</a></li><li class="footer__item"><a class="footer__link-item" href="/dev/tutorial">教程</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kwdb.openatom.tech/" target="_blank" rel="noopener noreferrer" class="footer__link-item">KWDB 社区<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_y3KW"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://openatom.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">开放原子开源基金会<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_y3KW"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://kwdb.atomgit.net/openrank/" target="_blank" rel="noopener noreferrer" class="footer__link-item">KWDB OpenRank Insight<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_y3KW"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 OpenAtom KWDB Team. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>